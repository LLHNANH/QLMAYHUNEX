<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Đăng ký tài khoản</title>
</head>
<body>
<h2>Đăng ký tài khoản</h2>
<form id="registerForm">
  <input type="text" id="username" placeholder="Tên đăng nhập" required><br>
  <input type="text" id="fullname" placeholder="Họ và tên" required><br>
  <input type="password" id="password" placeholder="Mật khẩu" required><br>
  <input type="password" id="confirmPassword" placeholder="Xác nhận mật khẩu" required><br>
  <button type="submit">Đăng ký</button>
</form>
<div id="result"></div>

<script>
document.getElementById('registerForm').addEventListener('submit', function(e) {
  e.preventDefault();

  var username = document.getElementById('username').value;
  var fullname = document.getElementById('fullname').value;
  var password = document.getElementById('password').value;
  var confirmPassword = document.getElementById('confirmPassword').value;

  var script = document.createElement('script');
  var callbackName = 'handleResponse';
  script.src = 'https://script.google.com/macros/s/YOUR_DEPLOYED_SCRIPT_ID/exec' +
    '?callback=' + callbackName +
    '&action=register' +
    '&username=' + encodeURIComponent(username) +
    '&fullname=' + encodeURIComponent(fullname) +
    '&password=' + encodeURIComponent(password) +
    '&confirmPassword=' + encodeURIComponent(confirmPassword);

  document.body.appendChild(script);
});

function handleResponse(response) {
  document.getElementById('result').innerText = response.message;
}
</script>
</body>
</html>
